(()=>{"use strict";var e,o={35:(e,o,t)=>{const n=window.React,a=window.wp.blocks,r=window.wp.i18n,i=window.wp.blockEditor,l=window.wp.components,s=window.wp.element,c=window.wp.compose,p=window.wp.apiFetch;var u=t.n(p);const d=window.wp.url;function g(e,o){return`\n    #${e}.layout-ticker .swiper-container {\n        height: ${o.carouselOptions.height}px;\n    }\n\n    #${e}.layout-ticker .swiper-button-prev::after,\n    #${e}.layout-ticker .swiper-button-next::after {\n        font-size: ${o.carouselOptions.navigation.iconSize}px;\n    }\n    #${e}.layout-ticker .swiper-button-prev,\n    #${e}.layout-ticker .swiper-button-next {\n        width: ${o.carouselOptions.navigation.iconBoxWidth}px;\n        height: ${o.carouselOptions.navigation.iconBoxHeight}px;\n        border-radius: ${o.carouselOptions.navigation.borderRadius}px;\n        color: ${o.carouselOptions.navigation.color};\n        background-color: ${o.carouselOptions.navigation.backgroundColor};\n        margin-top: ${o.carouselOptions.navigation.verticalGap}px;\n    }\n    #${e}.layout-ticker .swiper-button-prev:hover,\n    #${e}.layout-ticker .swiper-button-next:hover {\n        color: ${o.carouselOptions.navigation.colorHover};\n        background-color: ${o.carouselOptions.navigation.backgroundColorHover};\n    }\n    #${e}.layout-ticker .swiper-button-prev {\n        right: var(--swiper-navigation-sides-offset, ${o.carouselOptions.navigation.horizontalGap}px);\n    }\n    `}const v=async()=>{try{const e=await u()({path:(0,d.addQueryArgs)("/wp/v2/posts",{per_page:-1})}),o=(await u()({path:(0,d.addQueryArgs)("/cozy-block/v1/trending-posts",{})})).map((e=>e.ID));return e.filter((e=>!o.includes(e.id))).map((e=>e.id))}catch(e){return[]}},m=(0,s.memo)((({excludeIds:e})=>{const o=(0,i.useInnerBlocksProps)({className:"cozy-block-trending-posts"},{template:[["core/query",{className:"swiper-container swiper-vertical",queryId:0,query:{exclude:e,postType:"post",parents:["cozy-block/trending-post"],order:"desc"},lock:{move:!1,remove:!0}},[["core/post-template",{className:"swiper-wrapper cozy-trending-post-template",lock:{move:!1,remove:!0}},[["core/columns",{},[["core/column",{width:"35%"},[["core/post-featured-image",{height:"100px"}]]],["core/column",{width:"100%"},[["core/post-title",{isLink:!0,fontSize:"medium"}],["core/post-date"]]]]]]]]]]});return(0,n.createElement)("div",{...o})})),O=(0,s.memo)((({clientId:e,attributes:o})=>{const t=`cozyBlock_${e.replace(/-/gi,"_")}`,[a,r]=(0,s.useState)([]),i=(0,c.useRefEffect)((e=>{v().then((e=>{r(e)}))}),[o]),l=(0,c.useRefEffect)((e=>{v().then((e=>{r(e)}));const t=setInterval((()=>{if(e){const n=e.querySelectorAll(".wp-block-post");if(n.length>0){clearInterval(t),n.forEach((e=>{e.classList.add("swiper-slide")}));const a=e.querySelector(".swiper-container"),r=e.querySelector(".swiper-button-prev"),i=e.querySelector(".swiper-button-next"),l={direction:"vertical",autoplay:o.carouselOptions.sliderOptions.autoplay,loop:o.carouselOptions.sliderOptions.loop,speed:o.carouselOptions.sliderOptions.speed,slidesPerView:o.carouselOptions.sliderOptions.slidesPerView,spaceBetween:o.carouselOptions.sliderOptions.spaceBetween,navigation:{nextEl:i,prevEl:r}};new Swiper(a,l)}}return()=>{clearInterval(t)}}),1e3)}),[o]);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("style",{dangerouslySetInnerHTML:{__html:g(t,o)}}),"list"===o.layout&&(0,n.createElement)("div",{className:"cozy-block-trending-posts-wrapper layout-list",id:t,ref:i},a.length>=0&&(0,n.createElement)(m,{excludeIds:a})),"ticker"===o.layout&&(0,n.createElement)("div",{className:"cozy-block-trending-posts-wrapper layout-ticker "+(o.hoverShow?"hover-show":""),id:t,ref:l},a.length>=0&&(0,n.createElement)(m,{excludeIds:a}),o.carouselOptions.navigation.enabled&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"swiper-button-prev cozy-block-button-prev"}),(0,n.createElement)("div",{className:"swiper-button-next cozy-block-button-next"}))))})),h=JSON.parse('{"u2":"cozy-block/trending-post","WL":"Stay ahead with our \'Trending Post\' block, spotlighting the most popular and engaging content on your site for a dynamic and up-to-the-minute user experience."}');(0,a.registerBlockType)(h.u2,{title:(0,r.__)("Trending Post","cozy-addons"),description:(0,r.__)(h.WL,"cozy-addons"),icon:()=>(0,n.createElement)("svg",{width:"25",height:"20",viewBox:"0 0 25 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("rect",{fill:"white",x:"0.5",y:"0.5",width:"24",height:"19",rx:"2.5",stroke:"#5566CA"}),(0,n.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.5 15H4.5V14H20.5V15Z",fill:"#B2BCF9"}),(0,n.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.5 17H7.5V16H17.5V17Z",fill:"#B2BCF9"}),(0,n.createElement)("path",{d:"M10.0873 6.60885L6.63725 10.0036C6.23474 10.5128 5.77847 10.9716 6.11974 11.5313C6.46474 12.0971 7.03976 12.0971 7.44226 11.8142L10.7773 8.53256L12.0999 10.5128C12.6979 11.3276 13.4224 10.8523 13.7099 10.5128L17.16 7.06149C17.068 7.9215 17.735 8.24966 18.08 8.30624C18.816 8.26098 19 7.64615 19 7.34439V4.85488C19 4.0854 18.31 3.96847 17.965 4.00619H15.6074C14.9174 4.00619 14.7066 4.57199 14.6874 4.85488C14.6414 5.71489 15.4349 5.85446 15.8374 5.81674L12.9624 8.64572L11.7549 6.60885C11.1568 5.88463 10.394 6.30709 10.0873 6.60885Z",fill:"#36CFC6"})),example:{attributes:{cover:cozyBlockAssets.imageDir+"/preview_popular_trending_posts.jpg"},viewportWidth:310},edit:function({attributes:e,setAttributes:o,clientId:t}){if(e.cover)return(0,n.createElement)("img",{src:e.cover});e.blockClientId=t;const a=(0,i.useBlockProps)({className:"cozy-block-wrapper"});return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{...a},(0,n.createElement)(O,{clientId:t,attributes:e})),(0,n.createElement)(i.InspectorControls,{key:"setting",group:"settings"},(0,n.createElement)(l.PanelBody,{title:(0,r.__)("General","cozy-addons")},(0,n.createElement)(l.SelectControl,{title:(0,r.__)("Layout","cozy-addons"),options:[{label:(0,r.__)("List","cozy-addons"),value:"list"},{label:(0,r.__)("Ticker","cozy-addons"),value:"ticker"}],value:e.layout,onChange:t=>o({...e,layout:t})})),"ticker"===e.layout&&(0,n.createElement)(l.PanelBody,{title:(0,r.__)("Ticker Options","cozy-addons"),initialOpen:!1},(0,n.createElement)(l.RangeControl,{label:(0,r.__)("Height","cozy-addons"),min:20,max:1500,step:5,value:e.carouselOptions.height,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,height:Math.abs(t)}})}),(0,n.createElement)(l.TextControl,{label:(0,r.__)("Slides per view","cozy-addons"),value:e.carouselOptions.sliderOptions.slidesPerView,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,sliderOptions:{...e.carouselOptions.sliderOptions,slidesPerView:t}}}),type:"number",min:.1,step:.1}),(0,n.createElement)(l.RangeControl,{label:(0,r.__)("Gap","cozy-addons"),value:e.carouselOptions.sliderOptions.spaceBetween,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,sliderOptions:{...e.carouselOptions.sliderOptions,spaceBetween:t}}}),min:0,step:1,max:100}),(0,n.createElement)(l.ToggleControl,{label:(0,r.__)("Loop","cozy-addons"),checked:e.carouselOptions.sliderOptions.loop,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,sliderOptions:{...e.carouselOptions.sliderOptions,loop:t}}})}),(0,n.createElement)(l.ToggleControl,{label:(0,r.__)("Autoplay","cozy-addons"),checked:e.carouselOptions.sliderOptions.autoplay,onChange:t=>o({carouselOptions:{...e.carouselOptions,sliderOptions:{...e.carouselOptions.sliderOptions,autoplay:t}}})}),(0,n.createElement)(l.TextControl,{label:(0,r.__)("Speed (ms)","cozy-addons"),type:"number",value:e.carouselOptions.sliderOptions.speed,min:500,step:100,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,sliderOptions:{...e.carouselOptions.sliderOptions,speed:t}}}),help:(0,r.__)("*Greater the value, greater the delay.","cozy-addons")}),(0,n.createElement)(l.ToggleControl,{label:(0,r.__)("Enable Navigation","cozy-addons"),checked:e.carouselOptions.navigation.enabled,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,enabled:t}}})}),e.carouselOptions.navigation.enabled&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(l.ToggleControl,{label:(0,r.__)("Display on Hover","cozy-addons"),checked:e.hoverShow,onChange:e=>o({hoverShow:e}),help:(0,r.__)("*Show navigation only after hovering the block.")})))),(0,n.createElement)(i.InspectorControls,{key:"style",group:"styles"},"ticker"===e.layout&&e.carouselOptions.navigation.enabled&&(0,n.createElement)(l.PanelBody,{title:(0,r.__)("Navigation Style","cozy-addons"),initialOpen:!1},(0,n.createElement)(l.RangeControl,{label:(0,r.__)("Icon Size","cozy-addons"),value:e.carouselOptions.navigation.iconSize,min:1,max:50,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,iconSize:t}}})}),(0,n.createElement)(l.RangeControl,{label:(0,r.__)("Icon Box Width","cozy-addons"),value:e.carouselOptions.navigation.iconBoxWidth,min:1,max:50,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,iconBoxWidth:t}}})}),(0,n.createElement)(l.RangeControl,{label:(0,r.__)("Icon Box Height","cozy-addons"),value:e.carouselOptions.navigation.iconBoxHeight,min:1,max:50,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,iconBoxHeight:t}}})}),(0,n.createElement)(l.RangeControl,{label:(0,r.__)("Border Radius","cozy-addons"),value:e.carouselOptions.navigation.borderRadius,min:1,max:50,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,borderRadius:t}}})}),(0,n.createElement)(l.RangeControl,{label:(0,r.__)("Vertical Gap","cozy-addons"),min:-100,max:100,step:1,value:e.carouselOptions.navigation.verticalGap,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,verticalGap:t}}})}),(0,n.createElement)(l.RangeControl,{label:(0,r.__)("Horizontal Gap","cozy-addons"),min:0,max:200,step:1,value:e.carouselOptions.navigation.horizontalGap,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,horizontalGap:Math.abs(t)}}})}),(0,n.createElement)(i.PanelColorSettings,{className:"cozy-color-control",title:(0,r.__)("Background Color","cozy-addons"),colorSettings:[{value:e.carouselOptions.navigation.backgroundColor,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,backgroundColor:t}}}),label:(0,r.__)("Normal","cozy-addons")},{value:e.carouselOptions.navigation.backgroundColorHover,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,backgroundColorHover:t}}}),label:(0,r.__)("Hover","cozy-addons")}]}),(0,n.createElement)(i.PanelColorSettings,{className:"cozy-color-control",title:(0,r.__)("Color","cozy-addons"),colorSettings:[{value:e.carouselOptions.navigation.color,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,color:t}}}),label:(0,r.__)("Normal","cozy-addons")},{value:e.carouselOptions.navigation.colorHover,onChange:t=>o({...e,carouselOptions:{...e.carouselOptions,navigation:{...e.carouselOptions.navigation,colorHover:t}}}),label:(0,r.__)("Hover","cozy-addons")}]}))))},save:function({attributes:e}){const{blockClientId:o,layout:t,carouselOptions:a}=e,r=`cozyBlock_${o.replace(/-/gi,"_")}`;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("style",{dangerouslySetInnerHTML:{__html:g(r,e)}}),(0,n.createElement)("div",{className:`cozy-block-trending-posts-wrapper layout-${t} ${e.hoverShow?"hover-show":""}`,id:`cozyBlock_${o.replace(/-/gi,"_")}`},(0,n.createElement)(i.InnerBlocks.Content,null),"ticker"===t&&a.navigation.enabled&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"swiper-button-prev cozy-block-button-prev"}),(0,n.createElement)("div",{className:"swiper-button-next cozy-block-button-next"}))))}})}},t={};function n(e){var a=t[e];if(void 0!==a)return a.exports;var r=t[e]={exports:{}};return o[e](r,r.exports,n),r.exports}n.m=o,e=[],n.O=(o,t,a,r)=>{if(!t){var i=1/0;for(p=0;p<e.length;p++){for(var[t,a,r]=e[p],l=!0,s=0;s<t.length;s++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](t[s])))?t.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(p--,1);var c=a();void 0!==c&&(o=c)}}return o}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[t,a,r]},n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={826:0,431:0};n.O.j=o=>0===e[o];var o=(o,t)=>{var a,r,[i,l,s]=t,c=0;if(i.some((o=>0!==e[o]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var p=s(n)}for(o&&o(t);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(p)},t=globalThis.webpackChunktrending_post=globalThis.webpackChunktrending_post||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var a=n.O(void 0,[431],(()=>n(35)));a=n.O(a)})();